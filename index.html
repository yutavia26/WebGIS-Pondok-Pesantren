<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Lokasi Bangunan Pondok Pesantren Al-Munawwir</title>
        <!-- Favicon-->
        <link rel="icon" type="image/pondok pesantren.png" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
        <script src='https://api.mapbox.com/mapbox-gl-js/v3.15.0/mapbox-gl.js'></script>
        <link href='https://api.mapbox.com/mapbox-gl-js/v3.15.0/mapbox-gl.css' rel='stylesheet' />
        <link
        rel="stylesheet"
        href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.2.0/mapbox-gl-directions.css"
        type="text/css"
        />
        <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.2.0/mapbox-gl-directions.js"></script>
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
            <div class="container">
                <a class="navbar-brand" style="color:grey;" href="#!">Pondok Pesantren Al-Munawwir</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars ms-1"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav text-uppercase ms-auto py-4 py-lg-0">
                        <li class="nav-item"><a class="nav-link" href="#kajian">Kajian</a></li>
                        <li class="nav-item"><a class="nav-link" href="#tentang">Tentang Kami</a></li>
                        <li class="nav-item"><a class="nav-link" href="#team">Tim</a></li>
                        <li class="nav-item"><a class="nav-link" href="#contact">Kontak</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Masthead-->
        <header class="masthead">
            <div class="container">
                <div class="masthead-subheading">Lokasi Bangunan Pondok Pesantren Al-Munawwir</div>
                <div class="masthead-heading text-uppercase">Pondok Pesantren Al-Munawwir</div>
                <a class="btn btn-primary btn-xl text-uppercase" href="#kajian">Ketahui Lebih Lanjut</a>
            </div>
        </header>
        <!-- Kajian-->
        <section class="page-section" id="kajian">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-heading text-uppercase">Kajian</h2>
                    <h3 class="section-subheading text-muted">Kajian Rutin Pondok Pesantren Al-Munawwir</h3>
                </div>
                <div class="row text-center">
                    <div class="col-md-4">
                        <span class="fa-stack fa-4x">
                            <i class="fas fa-circle fa-stack-2x text-primary"></i>
                            <i class="fas fa-laptop fa-stack-1x fa-inverse"></i>
                        </span>
                        <h4 class="my-3">Kajian Umum</h4>
                        <p class="text-muted">Berisi kajian umum dengan topik general.</p>
                    </div>
                    <div class="col-md-4">
                        <span class="fa-stack fa-4x">
                            <i class="fas fa-circle fa-stack-2x text-primary"></i>
                            <i class="fas fa-laptop fa-stack-1x fa-inverse"></i>
                        </span>
                        <h4 class="my-3">Khotbah Jum'at</h4>
                        <p class="text-muted">Berisi kajian rutin setiap hari Jum'at.</p>
                    </div>
                    <div class="col-md-4">
                        <span class="fa-stack fa-4x">
                            <i class="fas fa-circle fa-stack-2x text-primary"></i>
                            <i class="fas fa-laptop fa-stack-1x fa-inverse"></i>
                        </span>
                        <h4 class="my-3">Kajian Keakhwatan</h4>
                        <p class="text-muted">Berisi kajian rutin Keakhwatan.</p>
                    </div>
                </div>
            </div>
        </section>
        <!-- Tentang Kami-->
        <section class="page-section" id="tentang">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-heading text-uppercase">Tentang Kami</h2>
                    <h3 class="section-subheading text-muted">Sejarah Pondok Pesantren Al-Munawwir</h3>
                </div>
                <ul class="timeline">
                    <li>
                        <div class="timeline-image"><img class="rounded-circle img-fluid" src="assets/img/about/gerbang lama.png" alt="..." /></div>
                        <div class="timeline-panel">
                            <div class="timeline-heading">
                                <h4>1991 M</h4>
                                <h4 class="subheading">Berdirinya Pondok Pesantren Al-Munawwir</h4>
                            </div>
                            <div class="timeline-body"><p class="text-muted">Pondok Pesantren Al Munawwir didirikan oleh KH. Muhammad Munawwir bin Abdullah Rosyad pada tanggal 15 November 1911 M, sejak awal berdiri dan berkembangnya pondok pesantren ini semula bernama pondok pesantren Krapyak, karena memang terletak di dusun Krapyak.</p></div>
                        </div>
                    </li>
                    <li class="timeline-inverted">
                        <div class="timeline-image"><img class="rounded-circle img-fluid" src="assets/img/about/al quran.jpg" alt="..." /></div>
                        <div class="timeline-panel">
                            <div class="timeline-heading">
                                <h4>1976-an</h4>
                                <h4 class="subheading">Penambahan Nama</h4>
                            </div>
                            <div class="timeline-body"><p class="text-muted">Nama pondok pesantren tersebut ditambah ‘Al-Munawwir’. Penambahan nama ini bertujuan untuk mengenang pendirinya yaitu KH. M. Munawwir. Dan Al-Qur’anlah sebagai ciri khas pendidikan di pesantren ini di awal berdirinya.</p></div>
                        </div>
                    </li>
                    <li class="timeline-inverted">
                        <div class="timeline-image">
                            <h4>
                                Be Part
                                <br />
                                Of Our
                                <br />
                                Story!
                            </h4>
                        </div>
                    </li>
                </ul>
            </div>
        </section>
        <!--Lokasi-->
        <section id="peta">
            <div class="container">
                <h2 class="text-center">Peta Lokasi Pondok Pesantren Al-Munawwir</h2>
                <div class="row mt-4">
                    <!-- Petunjuk -->
                    <div class="col-lg-3">
                        <div class="card shadow-sm">
                            <div class="card-header bg-primary text-white fw-bold">Petunjuk</div>
                            <div class="card-body">
                                <p><span>1. Gunakan tombol zoom in <img src="assets/img/lokasi/plus.png" width="20px">,
                                    zoom out <img src="assets/img/lokasi/min.png" width="20px">, dan reset arah utara 
                                    <img src="assets/img/lokasi/north.jpg" width="20px"> untuk mengatur posisi peta.</span></p>
                                <p><span>2. Titik biru huruf "A" merupakan titik lokasi Anda.</span></p>
                                <p><span>3. Klik tombol lokasi untuk menampilkan lokasi Pondok Pesantren Al-Munawwir.</span></p>
                                <p><span>4. Klik salah satu bangunan sebagai tujuan destinasi.</span></p>
                                <p><span>5. Rute ditampilkan sebagai garis biru pada peta.</span></p>
                            </div>
                        </div>
                    </div>
                    <!-- Peta -->
                    <div class="col-lg-9">
                        <div class="card shadow-sm">
                            <div class="card-header bg-primary text-white fw-bold d-flex justify-content-between align-items-center">
                                <span>Peta Interaktif</span>
                                <button id="fly" class="btn btn-light btn-sm">Lokasi Pesantren</button>
                            </div>
                            <div class="card-body p-2" style="height: 520px; position: relative;">
                                <div id="map" style="width: 100%; height: 100%; border-radius: 8px;"></div>
                                <div id="state-legend" class="legend" 
                                    style="position:absolute; bottom:10px; left:10px; background:white; padding:10px; border-radius:8px;">
                                <h6 style="font-weight: bold;">Legenda</h6>
                                <div><span style="background-color: rgb(0, 162, 255); width:15px; height:15px; display:inline-block; margin-right:5px;"></span>Asrama Putra</div>
                                <div><span style="background-color: pink; width:15px; height:15px; display:inline-block; margin-right:5px;"></span>Asrama Putri</div>
                                <div><span style="background-color: brown; width:15px; height:15px; display:inline-block; margin-right:5px;"></span>Bangunan Umum</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
</section>

        <!-- Team-->
        <section class="page-section bg-light" id="team">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-heading text-uppercase">Our Amazing Team</h2>
                    <h3 class="section-subheading text-muted">Pembuat WebGIS</h3>
                </div>
                <div class="center">
                    <div class="center">
                        <div class="team-member">
                            <img class="mx-auto rounded-circle" src="assets/img/team/4.jpg" alt="..." />
                            <h4>Yutaviananda Devintha</h4>
                            <p class="text-muted">117230026</p>
                            <a class="btn btn-dark btn-social mx-2" href="#!" aria-label="Parveen Anand Twitter Profile"><i class="fab fa-twitter"></i></a>
                            <a class="btn btn-dark btn-social mx-2" href="#!" aria-label="Parveen Anand Facebook Profile"><i class="fab fa-facebook-f"></i></a>
                            <a class="btn btn-dark btn-social mx-2" href="#!" aria-label="Parveen Anand LinkedIn Profile"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-8 mx-auto text-center"><p class="large text-muted">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aut eaque, laboriosam veritatis, quos non quis ad perspiciatis, totam corporis ea, alias ut unde.</p></div>
                </div>
            </div>
        </section>
        <!-- Clients-->
        <div class="py-5">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-3 col-sm-6 my-3">
                        <a href="#!"><img class="img-fluid img-brand d-block mx-auto" src="assets/img/logos/qgis.png" alt="..." aria-label="QGIS Logo" /></a>
                    </div>
                    <div class="col-md-3 col-sm-6 my-3">
                        <a href="#!"><img class="img-fluid img-brand d-block mx-auto" src="assets/img/logos/mapbox.png" alt="..." aria-label="Mapbox Logo" /></a>
                    </div>
                    <div class="col-md-3 col-sm-6 my-3">
                        <a href="#!"><img class="img-fluid img-brand d-block mx-auto" src="assets/img/logos/sb.png" alt="..." aria-label="Startbootstrap Logo" /></a>
                    </div>
                    <div class="col-md-3 col-sm-6 my-3">
                        <a href="#!"><img class="img-fluid img-brand d-block mx-auto" src="assets/img/logos/github.webp" alt="..." aria-label="GitHub Logo" /></a>
                    </div>
                </div>
            </div>
        </div>
        <!-- Contact-->
        <section class="page-section" id="contact">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-heading text-uppercase">Hubungi Kami</h2>
                    <h3 class="section-subheading text-muted">Hubungi kami jika terdapat pesan yang ingin disampaikan.</h3>
                </div>
                <!-- * * * * * * * * * * * * * * *-->
                <!-- * * SB Forms Contact Form * *-->
                <!-- * * * * * * * * * * * * * * *-->
                <!-- This form is pre-integrated with SB Forms.-->
                <!-- To make this form functional, sign up at-->
                <!-- https://startbootstrap.com/solution/contact-forms-->
                <!-- to get an API token!-->
                <form id="contactForm" data-sb-form-api-token="API_TOKEN">
                    <div class="row align-items-stretch mb-5">
                        <div class="col-md-6">
                            <div class="form-group">
                                <!-- Name input-->
                                <input class="form-control" id="name" type="text" placeholder="Nama *" data-sb-validations="required" />
                                <div class="invalid-feedback" data-sb-feedback="name:required">A name is required.</div>
                            </div>
                            <div class="form-group">
                                <!-- Email address input-->
                                <input class="form-control" id="email" type="email" placeholder="Email *" data-sb-validations="required,email" />
                                <div class="invalid-feedback" data-sb-feedback="email:required">An email is required.</div>
                                <div class="invalid-feedback" data-sb-feedback="email:email">Email is not valid.</div>
                            </div>
                            <div class="form-group mb-md-0">
                                <!-- Phone number input-->
                                <input class="form-control" id="phone" type="tel" placeholder="Nomor HP *" data-sb-validations="required" />
                                <div class="invalid-feedback" data-sb-feedback="phone:required">A phone number is required.</div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group form-group-textarea mb-md-0">
                                <!-- Message input-->
                                <textarea class="form-control" id="message" placeholder="Pesan *" data-sb-validations="required"></textarea>
                                <div class="invalid-feedback" data-sb-feedback="message:required">A message is required.</div>
                            </div>
                        </div>
                    </div>
                    <!-- Submit success message-->
                    <!---->
                    <!-- This is what your users will see when the form-->
                    <!-- has successfully submitted-->
                    <div class="d-none" id="submitSuccessMessage">
                        <div class="text-center text-white mb-3">
                            <div class="fw-bolder">Form submission successful!</div>
                            To activate this form, sign up at
                            <br />
                            <a href="https://startbootstrap.com/solution/contact-forms">https://startbootstrap.com/solution/contact-forms</a>
                        </div>
                    </div>
                    <!-- Submit error message-->
                    <!---->
                    <!-- This is what your users will see when there is-->
                    <!-- an error submitting the form-->
                    <div class="d-none" id="submitErrorMessage"><div class="text-center text-danger mb-3">Error sending message!</div></div>
                    <!-- Submit Button-->
                    <div class="text-center"><button class="btn btn-primary btn-xl text-uppercase disabled" id="submitButton" type="submit">Kirimkan Pesan</button></div>
                </form>
            </div>
        </section>
        <!-- Footer-->
        <footer class="footer py-4">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-4 text-lg-start">Copyright &copy; Pondok Pesantren Al-Munawwir 2025</div>
                    <div class="col-lg-4 my-3 my-lg-0">
                        <a class="btn btn-dark btn-social mx-2" href="#!" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a class="btn btn-dark btn-social mx-2" href="#!" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a class="btn btn-dark btn-social mx-2" href="#!" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                    <div class="col-lg-4 text-lg-end">
                        <a class="link-dark text-decoration-none me-3" href="#!">Privacy Policy</a>
                        <a class="link-dark text-decoration-none" href="#!">Terms of Use</a>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <!-- * *                               SB Forms JS                               * *-->
        <!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
        <script>
        mapboxgl.accessToken = 'pk.eyJ1IjoieXV0YXZpYSIsImEiOiJjbWc3N2U3MWkwM2VhMmtxMXk0Mjl5c2QzIn0.zJCXIC5DCG6zAPFc6Nlx_g';

        const start = {
            center: [110.36055, -7.82745],
            zoom: 12.35,
            pitch: 0,
            bearing: 0
        };
        const end = {
            center: [110.36141, -7.82646],
            zoom: 17,
            bearing: 0,
            pitch: 0
        };

        const map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v12',
            center: [110.36141, -7.82646],
            zoom: 12
        });

        map.addControl(new mapboxgl.NavigationControl(), 'top-left');

        // === Directions Control ===
        const directions = new MapboxDirections({
            accessToken: mapboxgl.accessToken,
            unit: 'metric',
            profile: 'mapbox/driving',
            language: 'id'
        });
        map.addControl(directions, 'top-right');

        // === LOAD GEOJSON ===
        map.on('load', () => {

        // ASRAMA PUTRA
        map.addSource('asrama_putra', {
            type: 'geojson',
            data: 'assets/geojson/asrama_putra.geojson'
        });
        map.addLayer({
            id: 'asrama_putra',
            type: 'fill',
            source: 'asrama_putra',
            paint: { 'fill-color': 'rgb(0,162,255)', 'fill-opacity': 0.6 }
        });
        map.addLayer({
            id: 'outline_asramaputra',
            type: 'line',
            source: 'asrama_putra',
            paint: { 'line-color': 'black', 'line-width': 1 }
        });

        // ASRAMA PUTRI
        map.addSource('asrama_putri', {
            type: 'geojson',
            data: 'assets/geojson/asrama_putri.geojson'
        });
        map.addLayer({
            id: 'asrama_putri',
            type: 'fill',
            source: 'asrama_putri',
            paint: { 'fill-color': 'pink', 'fill-opacity': 0.6 }
        });
            map.addLayer({
            id: 'outline_asramaputri',
            type: 'line',
            source: 'asrama_putri',
            paint: { 'line-color': 'black', 'line-width': 1 }
        });

        // BANGUNAN UMUM
        map.addSource('bangunan_umum', {
            type: 'geojson',
            data: 'assets/geojson/bangunan_umum.geojson'
        });
        map.addLayer({
            id: 'bangunan_umum',
            type: 'fill',
            source: 'bangunan_umum',
            paint: { 'fill-color': 'brown', 'fill-opacity': 0.6 }
        });
        map.addLayer({
            id: 'outline_bangunanumum',
            type: 'line',
            source: 'bangunan_umum',
            paint: { 'line-color': 'black', 'line-width': 1 }
        });

        // GELOKASI PENGGUNA
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function (position) {
            directions.setOrigin([position.coords.longitude, position.coords.latitude]);
            });
        }
    });

    // === TOMBOL FLY KE PESANTREN ===
    let isAtStart = true;
    document.getElementById('fly').addEventListener('click', () => {
        const target = isAtStart ? end : start;
        isAtStart = !isAtStart;

        map.flyTo({
            ...target,
            duration: 2000,
            essential: true
        });
    });
</script>

    </body>
</html>
